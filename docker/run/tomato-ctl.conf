{
  "___doc": [
    "place a file containing some of these settings in one of these places:",
    "    /etc/tomato/tomato-ctl.conf",
    "    ~/.tomato/tomato-ctl.conf",
    "    tomato-ctl.conf      (i.e., the current working directory)",
    "",
    "dictionaries will be merged.",
    "lists will be concatenated.",
    "all other values will be overwritten.",
    "config files will be imported in the order given above.",
    "",
    "if no docker_dir or tomato_dir is given, docker_dir will be the current working dir,",
    "  and tomato_dir will be docker_dir/../..",
    "",
    "Directiories in the 'directories' dicts can either be absolute, or relative to docker_dir"
  ],
  "db": {
	"enabled": false,
	"docker_container": "mongodb",
	"image": "mongo:latest",
	"_COMMENT_": "Set ports to [[\"127.0.0.1:27017\", 27017]] to prohibit DB access from remote",
	"_ports": [["27017", "27017"]],
	"additional_args": ["--dns", "10.3.9.4"],
	"directories": {
		"data": "mongodb-data",
		"backup": "mongodb-backup"
	},
	"shell_cmd": ["/usr/bin/mongo", "localhost:27017/tomato"]
  },
  "backend_accounting":{
	"enabled": true,
	"image": "tomato_backend_accounting",
	"_ports": [8007],
	"timezone": "Asia/Shanghai",
	"code_directories": ["backend_accounting", "shared-rust"],
	"shell_cmd": "/bin/bash"
  },
  "backend_core": {
	"enabled": true,
	"docker_container": "tomato_backend_core",
	"image": "tomato_backend_core",
	"_ports": [8000, 8001, 8002, 8006],
	"timezone": "Asia/Shanghai",
	"additional_args": [
		"--dns", "10.3.9.4",
		"-v", "/home/user/work/ToMaTo/web/tomato/static/templates:/var/lib/tomato/templates"
	],
	"code_directories": ["backend_core", "shared"],
	"shell_cmd": "/bin/bash",
	"reload_cmd": ["bash", "/tmp/stop_tomato.sh"]
  },
  "backend_api": {
	"enabled": true,
	"docker_container": "tomato_backend_api",
	"image": "tomato_backend_api",
	"_ports": [8000, 8001],
	"timezone": "Asia/Shanghai",
	"code_directories": ["backend_api", "shared"],
	"shell_cmd": "/bin/bash",
	"reload_cmd": ["bash", "tmp/stop_tomato.sh"],
	"api_url": "http+xmlrpc://localhost:8000"
  },
  "backend_users": {
	"enabled": true,
	"docker_container": "tomato_backend_users",
	"image": "tomato_backend_users",
	"_ports": [8003],
	"timezone": "Asia/Shanghai",
	"code_directories": ["backend_users", "shared"],
	"shell_cmd": "/bin/bash",
	"reload_cmd": ["bash", "/tmp/stop_tomato.sh"]
  },
  "web": {
	"docker_container": "tomato_web",
	"image": "tomato_web",
	"timezone": "Asia/Shanghai",
	"_ports": "[[80, 80], [443, 443]]",
	"additional_args": ["--dns", "10.3.9.4"],
	"shell_cmd": "/bin/bash",
	"code_directories": ["web", "shared"],
	"reload_cmd": ["service", "apache2", "reload"]
  },
  "docker_network_interface": "docker0",
  "docker_container_namespace": "tomato",
  "certs": {
	"ca_cert": "ca.pem",
	"ca_key": "ca_key.pem"
  }
}
